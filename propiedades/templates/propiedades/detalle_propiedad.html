{% extends 'base.html' %}
{% block content %}
<h1>{{ propiedad.titulo }}</h1>
 <div class="grid">
    <div class="card">
        <img src="{{ propiedad.foto_propiedad.url }}" alt="{{ propiedad.titulo }}">
        <div class="info">
            <p><strong>Ciudad:</strong> {{ propiedad.ciudad }}</p>
            <p><strong>Dirección:</strong> {{ propiedad.direccion }}</p>
            <p><strong>Precio:</strong> ${{ propiedad.precio }}</p>
            <p><strong>Tipo:</strong> {{ propiedad.get_tipo_display }}</p>{# Django, dame el texto legible del campo tipo según los choices del modelo #}
            <p><strong>Descripción:</strong></p>
            <p>{{ propiedad.descripcion }}</p>
        </div>
    </div>
</div>
<hr>

<h2>Contactar al agente</h2>

<h3>Ingresa tus datos para que un agente se contacte contigo</h3>

<form method="POST">{# “Cuando el usuario envíe este formulario, manda los datos como una acción, no como una  consulta.”#}
    
    {% csrf_token %} {#uso proteccion OBLIGATORIA#}
    
    {% if form.non_field_errors %}
    <div class="errores">
        {{ form.non_field_errors }}{#uso errores generales Dependen de la relación entre campos Dependen de la relación entre campos#}
    </div>
    {% endif %}
    <div>
        <label>Nombre</label><br>
        {{ form.nombre }}
        {{ form.nombre.errors }}{#uso errores de campo#}
    </div>

    <div>
        <label>Email</label><br>
        {{ form.email }}
        {{ form.email.errors }}
    </div>

    <div>
        <label>Mensaje</label><br>
        {{ form.mensaje }}
        {{ form.mensaje.errors }}
    </div>

    <button type="submit">Enviar mensaje</button>
</form>

{% endblock %}